<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MASTER NET - IPTV</title>
  <link rel="icon" href="logo.png" type="image/png">
  <style>
    body { margin: 0; font-family: Arial, sans-serif; background: #000; color: #fff; overflow-x: hidden; }
    header { text-align: center; padding: 2rem 1rem; }
    section { padding: 2rem 1rem; max-width: 900px; margin: 0 auto; }
    h1, h2 { color: #e60000; }
    .products { display: flex; flex-wrap: wrap; justify-content: center; gap: 1rem; }
    .product { background: rgba(0, 0, 0, 0.8); border: 1px solid #e60000; padding: 1rem; width: 280px; border-radius: 8px; text-align: center; }
    .product a { display: inline-block; margin-top: 1rem; padding: 0.5rem 1rem; background-color: #e60000; color: #fff; text-decoration: none; border-radius: 5px; font-weight: bold; }
    .pix-section { background: rgba(0, 0, 0, 0.8); padding: 1rem; border: 1px solid #e60000; text-align: center; border-radius: 8px; }
    .pix-section img { height: 60px; margin: 0 10px; vertical-align: middle; }
    .popup-btn { position: fixed; bottom: 20px; right: 20px; display: flex; flex-direction: column; gap: 10px; z-index: 9999; }
    .popup-btn a { background-color: #e60000; color: white; text-decoration: none; padding: 0.75rem 1rem; border-radius: 50px; font-weight: bold; text-align: center; box-shadow: 0 0 10px #e60000; }
    .feedbacks { background-color: rgba(0, 0, 0, 0.8); padding: 2rem 1rem; border-top: 1px solid #e60000; border-bottom: 1px solid #e60000; }
    .feedback { background: #222; border-radius: 8px; padding: 1rem; margin-bottom: 1rem; }
    .feedback strong { color: #e60000; }
    #comment-form input, #comment-form textarea { width: 100%; padding: 0.5rem; margin-bottom: 0.5rem; border-radius: 5px; border: none; }
    #comment-form button { background-color: #e60000; border: none; padding: 0.5rem 1rem; color: white; font-weight: bold; cursor: pointer; border-radius: 5px; }
    #chatbot { position: fixed; bottom: 90px; right: 20px; background: #111; border: 2px solid #e60000; padding: 1rem; border-radius: 12px; width: 300px; max-height: 400px; overflow-y: auto; display: none; z-index: 9999; }
    #chatbot h3 { margin-top: 0; }
    #chatbot img { width: 40px; vertical-align: middle; margin-right: 10px; }
    #open-chatbot { background: #e60000; border-radius: 50px; padding: 10px; cursor: pointer; }
  </style>
</head>
<body>

<header>
  <img src="logo.png" alt="MASTER NET Logo" style="height: 120px; margin-bottom: 1rem;" />
  <h1>Bem-vindo √† MASTER NET</h1>
  <p>IPTV com qualidade m√°xima, atendimento r√°pido e planos acess√≠veis. Fa√ßa seu teste gr√°tis üéÅ ou ative agora!</p>
</header>

<section>
  <h2>Planos & Produtos</h2>
  <div class="products">
    <div class="product"><p>Teste Gr√°tis üéÅ</p><a href="https://wa.me/5519996804873?text=Quero%20um%20teste%20gr%C3%A1tis">Ativar Agora</a></div>
    <div class="product"><p>Plano 1 M√™s - R$35,00</p><a href="https://wa.me/5519996804873?text=Quero%20comprar%20plano%20de%201%20m%C3%AAs">Comprar Agora</a></div>
    <div class="product"><p>Plano 2 Meses - R$60,00</p><a href="https://wa.me/5519996804873?text=Quero%20comprar%20plano%20de%202%20meses">Comprar Agora</a></div>
    <div class="product"><p>Plano 4 Meses - R$100,00</p><a href="https://wa.me/5519996804873?text=Quero%20comprar%20plano%20de%204%20meses">Comprar Agora</a></div>
  </div>
</section>

<section>
  <h2>Formas de Pagamento</h2>
  <div class="pix-section">
    <p>Aceitamos <strong>PIX</strong> e <strong>Cart√£o</strong>. Ap√≥s o pagamento, clique no WhatsApp para ativar seu plano.</p>
    <div><img src="pix.png" alt="PIX" /><img src="card.png" alt="Cart√£o" /></div>
  </div>
</section>

<section>
  <h2>D√∫vidas Frequentes</h2>
  <p>Assista onde quiser: üì± Celular, üì∫ Smart TV, üíª PC, üì¶ TV Box!</p>
  <ul>
    <li>Mais de 300 canais liberados!</li>
    <li>Qualidade HD e Full HD</li>
    <li>Atualiza√ß√µes autom√°ticas</li>
    <li>Sem contrato, sem fidelidade</li>
  </ul>
</section>

<section class="feedbacks">
  <h2>üí¨ O que nossos clientes dizem</h2>
  <div id="feedback-list"></div>
  <form id="comment-form">
    <input type="text" id="name" placeholder="Seu nome" required />
    <textarea id="message" placeholder="Seu coment√°rio" required></textarea>
    <button type="submit">Enviar coment√°rio</button>
  </form>
</section>

<div class="popup-btn">
  <div id="open-chatbot">ü§ñ</div>
  <a href="https://wa.me/5519996804873" target="_blank">üí¨ WhatsApp</a>
</div>

<div id="chatbot">
  <h3><img src="logo.png" alt="Bot Logo" /> Robo MasterNet</h3>
  <div id="chat-content">
    <p>Ol√°! üëã Sou o assistente da MASTER NET. Pergunte algo! üì≤</p>
  </div>
</div>

<!-- Firebase + Bot -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js";
  import { getDatabase, ref, push, onChildAdded } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-database.js";

  const firebaseConfig = {
    apiKey: "AIzaSyDkzu7El2JNbQA7kflKjNX8DdsAibG7uGU",
    authDomain: "site-467da.firebaseapp.com",
    databaseURL: "https://site-467da-default-rtdb.firebaseio.com",
    projectId: "site-467da",
    storageBucket: "site-467da.appspot.com",
    messagingSenderId: "749496526421",
    appId: "1:749496526421:web:53d7d52bfcdc04b0be96dc",
    measurementId: "G-F932J7Z078"
  };

  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);

  const feedbackList = document.getElementById("feedback-list");
  const commentForm = document.getElementById("comment-form");

  commentForm.onsubmit = (e) => {
    e.preventDefault();
    const name = document.getElementById("name").value.trim();
    const message = document.getElementById("message").value.trim();
    if (name && message) {
      const feedbackRef = ref(db, "feedbacks");
      push(feedbackRef, {
        name,
        message,
        timestamp: Date.now()
      });
      commentForm.reset();
    }
  };

  const feedbackRef = ref(db, "feedbacks");
  onChildAdded(feedbackRef, (data) => {
    const feedback = data.val();
    const div = document.createElement("div");
    div.className = "feedback";
    div.innerHTML = `<strong>${feedback.name}:</strong> ${feedback.message}`;
    feedbackList.prepend(div);
  });

  // BOT CHAT
  const openChatbot = document.getElementById("open-chatbot");
  const chatbot = document.getElementById("chatbot");
  const chatContent = document.getElementById("chat-content");

  openChatbot.onclick = () => {
    chatbot.style.display = chatbot.style.display === "none" ? "block" : "none";
  };

  chatbot.onclick = (e) => {
    if (e.target.tagName === "BUTTON") {
      const msg = e.target.dataset.msg;
      addUserMessage(msg);
      botResponse(msg);
    }
  };

  function addUserMessage(msg) {
    chatContent.innerHTML += `<p><strong>Voc√™:</strong> ${msg}</p>`;
  }

  function botResponse(msg) {
    let response = "N√£o entendi. Por favor, fale com nosso suporte via WhatsApp.";
    const lower = msg.toLowerCase();
    if (lower.includes("onde") || lower.includes("aparelho") || lower.includes("smart")) {
      response = "üì∫ Funciona em celular, tablet, Smart TV, TV Box e PC.";
    } else if (lower.includes("teste") || lower.includes("posso testar")) {
      response = "üéÅ Oferecemos teste gr√°tis! Clique em TESTE GR√ÅTIS no site ou chame no WhatsApp.";
    } else if (lower.includes("pagar") || lower.includes("pix") || lower.includes("cart√£o")) {
      response = "üí≥ Aceitamos PIX e cart√£o! Pagamento r√°pido e seguro.";
    }
    chatContent.innerHTML += `<p><strong>Bot ü§ñ:</strong> ${response}</p>`;
  }
</script>

</body>
</html>
