<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MASTER NET - IPTV</title>
  <link rel="icon" href="logo.png" type="image/png">
  <style>
    body { margin: 0; font-family: Arial, sans-serif; background: #000; color: #fff; overflow-x: hidden; }
    header { text-align: center; padding: 2rem 1rem; }
    section { padding: 2rem 1rem; max-width: 900px; margin: 0 auto; }
    h1, h2 { color: #e60000; }
    .products { display: flex; flex-wrap: wrap; justify-content: center; gap: 1rem; }
    .product { background: rgba(0,0,0,0.8); border: 1px solid #e60000; padding: 1rem; width: 280px; border-radius: 8px; text-align: center; }
    .product a { display: inline-block; margin-top: 1rem; padding: 0.5rem 1rem; background-color: #e60000; color: #fff; text-decoration: none; border-radius: 5px; font-weight: bold; }
    .pix-section { background: rgba(0,0,0,0.8); padding: 1rem; border: 1px solid #e60000; text-align: center; border-radius: 8px; }
    .pix-section img { height: 60px; margin: 0 10px; vertical-align: middle; }
    .popup-btn { position: fixed; bottom: 20px; right: 20px; display: flex; flex-direction: column; gap: 10px; z-index: 9999; }
    .popup-btn a, #open-chatbot { background-color: #e60000; color: white; text-decoration: none; padding: 0.75rem 1rem; border-radius: 50px; font-weight: bold; text-align: center; box-shadow: 0 0 10px #e60000; cursor: pointer; }
    .feedbacks { background-color: rgba(0,0,0,0.8); padding: 2rem 1rem; border-top: 1px solid #e60000; border-bottom: 1px solid #e60000; }
    .feedback { background: #222; border-radius: 8px; padding: 1rem; margin-bottom: 1rem; }
    .feedback strong { color: #e60000; }
    #chatbot { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: #111; border: 2px solid #e60000; border-radius: 10px; width: 320px; max-height: 500px; padding: 1rem; z-index: 99999; }
    #chat-content { max-height: 300px; overflow-y: auto; }
    #chat-input { width: 100%; margin-top: 10px; display: flex; }
    #chat-input input { flex: 1; padding: 0.5rem; border: none; border-radius: 5px 0 0 5px; }
    #chat-input button { padding: 0.5rem; background: #e60000; color: white; border: none; border-radius: 0 5px 5px 0; cursor: pointer; }
  </style>
</head>
<body>

<header>
  <img src="logo.png" alt="MASTER NET Logo" style="height: 120px; margin-bottom: 1rem;">
  <h1>Bem-vindo √† MASTER NET</h1>
  <p>IPTV com qualidade m√°xima, atendimento r√°pido e planos acess√≠veis. Fa√ßa seu teste gr√°tis üéÅ ou ative agora!</p>
</header>

<section>
  <h2>Planos & Produtos</h2>
  <p>Todos os planos incluem:</p>
  <ul>
    <li>1 tela simult√¢nea</li>
    <li>Mesmo suporte via WhatsApp/Telegram</li>
  </ul>
  <div class="products">
    <div class="product"><p>Teste Gr√°tis üéÅ</p><a href="https://wa.me/5519996804873?text=Quero%20meu%20teste%20gr√°tis" style="background-color: #00b300;">Ativar Agora</a></div>
    <div class="product"><p>Plano 1 M√™s - R$35,00</p><a href="https://wa.me/5519996804873?text=Comprar%20plano%201%20m√™s" class="btn">Comprar Agora</a></div>
    <div class="product"><p>Plano 2 Meses - R$60,00</p><a href="https://wa.me/5519996804873?text=Comprar%20plano%202%20meses" class="btn">Comprar Agora</a></div>
    <div class="product"><p>Plano 4 Meses - R$100,00</p><a href="https://wa.me/5519996804873?text=Comprar%20plano%204%20meses" class="btn">Comprar Agora</a></div>
  </div>
</section>

<section>
  <h2>Formas de Pagamento</h2>
  <div class="pix-section">
    <p>Aceitamos <strong>PIX</strong> e <strong>Cart√£o</strong>. Ap√≥s o pagamento, clique no WhatsApp para ativar seu plano.</p>
    <div><img src="pix.png" alt="PIX" /><img src="card.png" alt="Cart√£o" /></div>
  </div>
</section>

<section class="feedbacks">
  <h2>üí¨ Coment√°rios</h2>
  <div id="login-section">
    <button id="login-btn" style="background-color:#e60000; border:none; padding:0.7rem 1.5rem; color:white; border-radius:5px; font-weight:bold; cursor:pointer;">
      üîê Fazer Login com Google para comentar
    </button>
  </div>

  <div id="comment-section" style="display:none;">
    <div id="feedback-list"></div>
    <form id="comment-form">
      <input type="text" id="name" placeholder="Seu nome" readonly required />
      <textarea id="message" placeholder="Seu coment√°rio" required></textarea>
      <button type="submit">Enviar Coment√°rio</button>
    </form>
  </div>
</section>

<div class="popup-btn">
  <div id="open-chatbot">ü§ñ Ajuda</div>
  <a href="https://wa.me/5519996804873" target="_blank">üí¨ WhatsApp</a>
  <a href="https://t.me/hteshtyh_bot" target="_blank">üì¢ Telegram</a>
</div>

<div id="chatbot">
  <h3>ü§ñ Bot MasterNet</h3>
  <div id="chat-content"></div>
  <div id="chat-input">
    <input type="text" id="user-message" placeholder="Digite sua pergunta...">
    <button onclick="sendMessage()">Enviar</button>
  </div>
</div>

<!-- Firebase SDK -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js";
  import { getAuth, GoogleAuthProvider, signInWithPopup, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-auth.js";
  import { getDatabase, ref, push, onChildAdded } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-database.js";

  const firebaseConfig = {
    apiKey: "AIzaSyDkzu7El2JNbQA7kflKjNX8DdsAibG7uGU",
    authDomain: "site-467da.firebaseapp.com",
    databaseURL: "https://site-467da-default-rtdb.firebaseio.com",
    projectId: "site-467da",
    storageBucket: "site-467da.appspot.com",
    messagingSenderId: "749496526421",
    appId: "1:749496526421:web:53d7d52bfcdc04b0be96dc",
    measurementId: "G-F932J7Z078"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const db = getDatabase(app);
  const provider = new GoogleAuthProvider();

  const loginSection = document.getElementById('login-section');
  const commentSection = document.getElementById('comment-section');
  const loginBtn = document.getElementById('login-btn');
  const nameInput = document.getElementById('name');

  loginBtn.onclick = () => {
    signInWithPopup(auth, provider).catch((error) => {
      console.error(error.message);
    });
  };

  onAuthStateChanged(auth, (user) => {
    if (user) {
      loginSection.style.display = "none";
      commentSection.style.display = "block";
      nameInput.value = user.displayName;
    } else {
      loginSection.style.display = "block";
      commentSection.style.display = "none";
    }
  });

  const feedbackList = document.getElementById("feedback-list");
  const commentForm = document.getElementById("comment-form");

  commentForm.onsubmit = (e) => {
    e.preventDefault();
    const name = nameInput.value.trim();
    const message = document.getElementById("message").value.trim();
    if (name && message) {
      const feedbackRef = ref(db, "feedbacks");
      push(feedbackRef, { name: name, message: message, timestamp: Date.now() });
      commentForm.reset();
    }
  };

  const feedbackRef = ref(db, "feedbacks");
  onChildAdded(feedbackRef, (data) => {
    const feedback = data.val();
    const div = document.createElement("div");
    div.className = "feedback";
    div.innerHTML = `<strong>${feedback.name}:</strong> ${feedback.message}`;
    feedbackList.prepend(div);
  });

  // Chatbot
  const chatbot = document.getElementById("chatbot");
  const openChatbot = document.getElementById("open-chatbot");

  openChatbot.onclick = () => {
    chatbot.style.display = chatbot.style.display === "none" ? "block" : "none";
  };

  function sendMessage() {
    const userMessage = document.getElementById("user-message").value.toLowerCase();
    const chatContent = document.getElementById("chat-content");

    chatContent.innerHTML += `<p><strong>Voc√™:</strong> ${userMessage}</p>`;

    let botReply = "";
    if (userMessage.includes("assistir") || userMessage.includes("aparelhos")) {
      botReply = "üì∫ Funciona em celular, tablet, Smart TV, TV Box e PC!";
    } else if (userMessage.includes("teste")) {
      botReply = "üéÅ Temos teste gr√°tis! Clique no WhatsApp para ativar.";
    } else if (userMessage.includes("pagar") || userMessage.includes("pix") || userMessage.includes("cart√£o")) {
      botReply = "üí≥ Aceitamos PIX e Cart√£o.";
    } else {
      botReply = "‚ùå N√£o entendi! Clique no bot√£o WhatsApp para falar com um atendente.";
    }

    chatContent.innerHTML += `<p><strong>Bot:</strong> ${botReply}</p>`;

    if (botReply.includes("n√£o entendi")) {
      setTimeout(() => {
        window.open('https://wa.me/5519996804873', '_blank');
      }, 2000);
    }

    document.getElementById("user-message").value = "";
  }
</script>

</body>
</html>
